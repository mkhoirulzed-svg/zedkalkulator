<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Asidosis & Alkalosis</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

  <link rel="icon" type="image/png" href="512x512.png">
  <link rel="apple-touch-icon" href="512x512.png">
  <link rel="manifest" href="manifest.json">

  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="theme-color" content="#0f766e">

  <link rel="stylesheet" href="Asset/swipe.css">

  <style>
    .hidden { display: none; }

    @font-face {
      font-family: 'Archicoco';
      src: url('./Asset/Archicoco.otf') format('truetype');
      font-display: swap;
    }

    .pos-menu-icon {
      width: 30px;
      height: 22px;
      margin: 0 auto 2px;
      display: block;
      opacity: .55;
    }

    .pos-menu-btn.active .pos-menu-icon { opacity: 1; }

    .pos-menu {
      display: flex;
      justify-content: space-between;
      gap: 0.25rem;
      border-top: 1px solid #e5e7eb;
    }

    .pos-menu-btn {
      flex: 1;
      padding: 0.6rem 0.2rem 0.5rem;
      text-align: center;
      color: #6b7280;
      font-size: 0.7rem;
      font-weight: 500;
      position: relative;
    }

    .pos-menu-btn.active {
      color: #2563eb;
      font-weight: 600;
    }

    .pos-menu-btn.active::after {
      content: "";
      position: absolute;
      left: 20%;
      right: 20%;
      bottom: -1px;
      height: 3px;
      background: #2563eb;
      border-radius: 2px;
    }
  </style>
</head>

<body class="font-sans bg-slate-100 min-h-screen flex justify-center p-3 sm:p-6">

<!-- BACKDROP -->
<div id="backdrop" class="fixed inset-0 bg-black/30 z-30 hidden" onclick="toggleMenu()"></div>

<!-- SIDE MENU (TIDAK DIUBAH) -->
<aside id="sideMenu" class="fixed inset-y-0 left-0 z-40 w-64 bg-teal-100 shadow-xl transform -translate-x-full transition-transform">
  <div class="p-4 border-b border-teal-200 flex justify-between">
    <div class="font-semibold text-sm">Menu Kalkulator</div>
    <button onclick="toggleMenu()">✕</button>
  </div>
</aside>

<div class="w-full max-w-2xl flex flex-col gap-4">

<!-- HEADER + POS MENU -->
<div class="bg-white border rounded-xl overflow-hidden">
  <header class="flex items-center px-3 py-2">
    <button onclick="toggleMenu()" class="p-2">☰</button>
    <div class="ml-2 text-sm text-slate-600">ZED Kalkulator</div>
  </header>

  <nav class="pos-menu">
    <a href="index.html" class="pos-menu-btn">SP BB</a>
    <a href="index_NoBB.html" class="pos-menu-btn">SP Non BB</a>
    <a href="infus.html" class="pos-menu-btn">Infus</a>
    <a href="insulin.html" class="pos-menu-btn">Insulin</a>
    <a href="anestesi.html" class="pos-menu-btn">EBV</a>
  </nav>
</div>

<!-- KARTU UTAMA -->
<div class="bg-white shadow-xl border rounded-2xl p-4 sm:p-6">

<header class="mb-4">
  <h1 class="text-xl sm:text-3xl font-bold text-slate-800">
    Kalkulator Asidosis & Alkalosis
  </h1>
  <p class="text-sm text-slate-500">
    Interpretasi gas darah arteri (ABG)
  </p>
</header>

<form onsubmit="event.preventDefault(); analisaABG();" class="space-y-4">

  <div>
    <label class="text-sm font-medium">pH</label>
    <input id="ph" type="number" step="0.01" placeholder="7.40"
      class="w-full rounded-lg border px-3 py-2">
  </div>

  <div>
    <label class="text-sm font-medium">PaCO₂ (mmHg)</label>
    <input id="pco2" type="number" step="1" placeholder="40"
      class="w-full rounded-lg border px-3 py-2">
  </div>

  <div>
    <label class="text-sm font-medium">HCO₃⁻ (mEq/L)</label>
    <input id="hco3" type="number" step="1" placeholder="24"
      class="w-full rounded-lg border px-3 py-2">
  </div>

  <button class="w-full bg-blue-600 text-white py-2 rounded-lg">
    Analisa
  </button>
</form>

<section id="hasil" class="mt-4 bg-slate-50 border rounded-xl p-3 text-sm"></section>
</div>

<footer class="text-[10px] text-center text-slate-500">
  <div>Created by Muhammad Khairul Zed, S.Kep., Ners</div>
  <div>RSUD dr Doris Sylvanus Kalimantan Tengah</div>
</footer>

</div>

<script>
function toggleMenu(){
  document.getElementById('sideMenu').classList.toggle('-translate-x-full');
  document.getElementById('backdrop').classList.toggle('hidden');
}

function analisaABG(){
  const ph = parseFloat(document.getElementById('ph').value);
  const pco2 = parseFloat(document.getElementById('pco2').value);
  const hco3 = parseFloat(document.getElementById('hco3').value);
  const out = document.getElementById('hasil');

  if (isNaN(ph) || isNaN(pco2) || isNaN(hco3)) {
    out.innerHTML = `<p class="text-red-600">Semua nilai harus diisi.</p>`;
    return;
  }

  let statusPH = "";
  if (ph < 7.35) statusPH = "Asidosis";
  else if (ph > 7.45) statusPH = "Alkalosis";
  else statusPH = "Normal";

  let gangguan = "-";

  if (statusPH === "Asidosis") {
    gangguan = pco2 > 45 ? "Asidosis Respiratorik" : "Asidosis Metabolik";
  }

  if (statusPH === "Alkalosis") {
    gangguan = pco2 < 35 ? "Alkalosis Respiratorik" : "Alkalosis Metabolik";
  }

  out.innerHTML = `
    <p><b>Status pH:</b> ${statusPH}</p>
    <p><b>Gangguan utama:</b> ${gangguan}</p>
  `;
}
</script>

<script src="Asset/swipe.js" defer></script>
</body>
</html>
